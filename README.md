[![Code Coverage](https://codecov.io/gh/DeKal/illuminati/branch/master/graph/badge.svg)](https://codecov.io/gh/DeKal/illuminati) [![CircleCI](https://circleci.com/gh/DeKal/illuminati/tree/master.svg?style=svg)](https://circleci.com/gh/DeKal/illuminati/tree/master)

# illuminati
[The Illuminati](https://knowyourmeme.com/memes/the-illuminati) is a purported secret society consisting of world governments, corporations and celebrities that play an important role in global affairs. Many believe the goal of the organization is to establish a global totalitarian government known as the "New World Order.".\

Instead of "New World Order", this project will bring new light to those are in confusion, to bring knowledge upon those miserable lives coding in a ruthless way. This is not a conspiracy, this is reality, this is public and accessible to those in need.


## Prerequisites

- Java >= 1.8
- Intellij for best Experience
- A good heart <3

## Installation

- If you are using Intellij, packages will be updated automatically.
- Using included Gradle script to build  project.
```bash
./gradlew build --refresh-dependencies
```

## Development
### Code Style
- Following Google convention.
- Set Tab with Indent = 4.

### Gradle Run
```bash
./gradlew bootRun
```

## Testing
- Testing is supported by Junit5 and Checkstyle.
- Running all tests and checks using:
```bash
./gradlew clean check
```
- Test Result is generated at:
`build/report/tests/test`
- Test Coverage Report is generated by Jacoco at:
`build/report/jacoco/test`
- Check Style report is generated by CheckStyle at:
`build/report/checkstyle.html`

## Release
- Using Gradle release (`net.researchgate.release`).
- Only release a version when git status is clean and on branch `master`.
- Changelog is generated with Git Changelog Gradle plugin following changelog.mustache format.
```bash
./release.sh
```

## Continuous Integration(CI)

CI is supported by **Circle.io**.\
Circle.io will start 2 workflow: (Looking at .circleci/config.yml for details)
1) Using *Danger JS* to Check Pull Request(PR) Qualification.
2) Using Gradle with openjdk 8 container to validate the PR.

### Danger JS
Ensure that PR has all the description, tag, reviewers and assignees, which helps a lot to build a good habit for team.

### CodeCov
Coverage Report will be updated from *Circle CI* and a associative app will report back on Github PR.
#### CodeCov Patch
Check if the coverage is affected by the new patch or not.

#### CodeCov Project
Check the coverage of the whole project is changed or not.


## Continuous Deployment(CD)
CD is supported by Heroku Pipeline, separating into 3 stages: 

``PR Apps -> Staging App -> Production App``

- Every time, a PR is created, a new PR App will be deployed on Heroku
- When PR is closed, app will be deployed on Staging
- The end of development cycle, we release a version on Production App


## MongoDB Simple Guilde

### Setup MongoDB Cloud:
Sign up page https://cloud.mongodb.com, then following the below steps.
1) Create a new Cluster.
2) When the cluster is available, in Security column, config the permission for Database Access:
    - Choose the default Method is SCRAM Authentication, set user name + password.
    - Choose User Privileges.
3) Next, we create a database and collection in the Clusters.
4) To connect to the Cluster, we need to get the connection string:
    - Choose the Connect button then select "Connect Your Application" (If you use MongoDB client Compass choose "Connect Your MongoDB Compass").
    - In String mongodb+srv://<username>:<password>--- replace the content in <> by your user name & password in Database Access config.
5) In application*.properties files, assign connection string to spring.data.mongodb.uri and database name to spring.data.mongodb.database.

### Setup MongoDB Server:
To install and run the application in your local, for window following this instructional video https://www.youtube.com/watch?v=Y7O3U7DRwWk.
For macos : https://www.youtube.com/watch?v=DX15WbKidXY

(NOTE: these below example steps are applied for window user)
1) After successful installation, create a folder for the data files. By default, this will be C:\data\db.
2) Create a folder for the log files. By default, this will be C:\data\log.
Open a command prompt, change the working directory to C:\Program Files\MongoDB\Server\3.2\bin and start the database server, mongod.exe.
3) At this stage, you should be ready to roll. Open another command prompt and start the database client, mongo.exe which youâ€™ll find in the same folder as mongod.exe.


## License
[MIT](https://choosealicense.com/licenses/mit/)
